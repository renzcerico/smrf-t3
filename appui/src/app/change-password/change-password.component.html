<form #changePassword="ngForm">
    <h1 mat-dialog-title>Change Password</h1>
    <div mat-dialog-content style="max-width: 350px;">
        <mat-form-field class="w-100">
            <mat-label>Current Password</mat-label>
            <input matInput
                   type="password"
                   (change)="verifyCurrentPassword();"
                   [(ngModel)]="currentPassword"
                   name="currentPassword"
                   required
                   cdkFocusInitial>
        </mat-form-field>
        <mat-error class="small" *ngIf="errorCurrentPassword">
            Invalid current password.
        </mat-error>
        <mat-form-field class="w-100">
            <mat-label>New Password</mat-label>
            <input matInput type="password" [(ngModel)]="newPassword" name="newPassword" required>
        </mat-form-field>
        <mat-form-field class="w-100">
            <mat-label>Confirm Password</mat-label>
            <input matInput type="password" [(ngModel)]="confirmPassword" name="confirmPassword" required>
        </mat-form-field>
        <mat-error class="small" *ngIf="newPassword !== confirmPassword && confirmPassword !== undefined">
            Password didn't match.
        </mat-error>
    </div>

    <span *ngIf="success" class="text-success">
        Password successfully changed!
    </span>

    <div mat-dialog-actions align="end">
        <button mat-button mat-dialog-close>Cancel</button>
        <button mat-raised-button color="primary" (click)="submitChangePassword();">Change</button>
    </div>

</form>